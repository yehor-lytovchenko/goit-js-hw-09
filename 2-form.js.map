{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nfunction renderPage(e) {\n  const { email, message } = getDataFromLocalStorage('feedback-form-state');\n\n  formEl.elements.email.value = email || '';\n  formEl.elements.message.value = message || '';\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (!email.value.trim() || !message.value.trim()) {\n    return alert('Fill please all fields');\n  }\n\n  formData = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n\n  console.log(formData);\n\n  localStorage.removeItem('feedback-form-state');\n\n  e.currentTarget.reset();\n}\n\nfunction onInput(e) {\n  const email = e.currentTarget.elements.email.value.trim();\n  const message = e.currentTarget.elements.message.value.trim();\n\n  formData.email = email;\n  formData.message = message;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const lsData = localStorage.getItem(key);\n    return lsData === null ? undefined : JSON.parse(lsData);\n  } catch (error) {\n    console.log('Get state error:', error.message);\n  }\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nformEl.addEventListener('input', onInput);\n\ndocument.addEventListener('DOMContentLoaded', renderPage);\n"],"names":["formEl","formData","renderPage","e","email","message","getDataFromLocalStorage","onSubmit","onInput","key","lsData","error"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAEtD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAAWC,EAAG,CACrB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGC,EAAwB,qBAAqB,EAExEN,EAAO,SAAS,MAAM,MAAQI,GAAS,GACvCJ,EAAO,SAAS,QAAQ,MAAQK,GAAW,EAC7C,CAEA,SAASE,EAASJ,EAAG,CACnBA,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAE,cAAc,SAE3C,GAAI,CAACC,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OACxC,OAAO,MAAM,wBAAwB,EAGvCJ,EAAW,CACT,MAAOG,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EAEE,aAAa,QAAQ,sBAAuB,KAAK,UAAUJ,CAAQ,CAAC,EAEpE,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAE7CE,EAAE,cAAc,OAClB,CAEA,SAASK,EAAQL,EAAG,CAClB,MAAMC,EAAQD,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CE,EAAUF,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEvDF,EAAS,MAAQG,EACjBH,EAAS,QAAUI,EAEnB,aAAa,QAAQ,sBAAuB,KAAK,UAAUJ,CAAQ,CAAC,CACtE,CAEA,SAASK,EAAwBG,EAAK,CACpC,GAAI,CACF,MAAMC,EAAS,aAAa,QAAQD,CAAG,EACvC,OAAOC,IAAW,KAAO,OAAY,KAAK,MAAMA,CAAM,CACvD,OAAQC,EAAO,CACd,QAAQ,IAAI,mBAAoBA,EAAM,OAAO,CAC9C,CACH,CAEAX,EAAO,iBAAiB,SAAUO,CAAQ,EAE1CP,EAAO,iBAAiB,QAASQ,CAAO,EAExC,SAAS,iBAAiB,mBAAoBN,CAAU"}