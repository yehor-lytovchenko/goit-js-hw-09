{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nfunction renderPage(e) {\n  const savedData = getDataFromLocalStorage('feedback-form-state');\n\n  if (!savedData) return;\n\n  formData.email = savedData.email;\n  formData.message = savedData.message;\n\n  formEl.elements.email.value = formData.email;\n  formEl.elements.message.value = formData.message;\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (!email.value.trim() || !message.value.trim()) {\n    return alert('Fill please all fields');\n  }\n\n  formData = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n\n  console.log(formData);\n\n  localStorage.removeItem('feedback-form-state');\n\n  e.currentTarget.reset();\n}\n\nfunction onInput(e) {\n  const email = e.currentTarget.elements.email.value.trim();\n  const message = e.currentTarget.elements.message.value.trim();\n\n  formData.email = email;\n  formData.message = message;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const lsData = localStorage.getItem(key);\n    return lsData === null ? undefined : JSON.parse(lsData);\n  } catch (error) {\n    console.log('Get state error:', error.message);\n  }\n}\n\nformEl.addEventListener('submit', onSubmit);\n\nformEl.addEventListener('input', onInput);\n\ndocument.addEventListener('DOMContentLoaded', renderPage);\n"],"names":["formEl","formData","renderPage","e","savedData","getDataFromLocalStorage","onSubmit","email","message","onInput","key","lsData","error"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAEtD,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAASC,EAAWC,EAAG,CACrB,MAAMC,EAAYC,EAAwB,qBAAqB,EAE1DD,IAELH,EAAS,MAAQG,EAAU,MAC3BH,EAAS,QAAUG,EAAU,QAE7BJ,EAAO,SAAS,MAAM,MAAQC,EAAS,MACvCD,EAAO,SAAS,QAAQ,MAAQC,EAAS,QAC3C,CAEA,SAASK,EAASH,EAAG,CACnBA,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAI,EAAO,QAAAC,CAAO,EAAKL,EAAE,cAAc,SAE3C,GAAI,CAACI,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OACxC,OAAO,MAAM,wBAAwB,EAGvCP,EAAW,CACT,MAAOM,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EAEE,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,EAEpE,QAAQ,IAAIA,CAAQ,EAEpB,aAAa,WAAW,qBAAqB,EAE7CE,EAAE,cAAc,OAClB,CAEA,SAASM,EAAQN,EAAG,CAClB,MAAMI,EAAQJ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CK,EAAUL,EAAE,cAAc,SAAS,QAAQ,MAAM,OAEvDF,EAAS,MAAQM,EACjBN,EAAS,QAAUO,EAEnB,aAAa,QAAQ,sBAAuB,KAAK,UAAUP,CAAQ,CAAC,CACtE,CAEA,SAASI,EAAwBK,EAAK,CACpC,GAAI,CACF,MAAMC,EAAS,aAAa,QAAQD,CAAG,EACvC,OAAOC,IAAW,KAAO,OAAY,KAAK,MAAMA,CAAM,CACvD,OAAQC,EAAO,CACd,QAAQ,IAAI,mBAAoBA,EAAM,OAAO,CAC9C,CACH,CAEAZ,EAAO,iBAAiB,SAAUM,CAAQ,EAE1CN,EAAO,iBAAiB,QAASS,CAAO,EAExC,SAAS,iBAAiB,mBAAoBP,CAAU"}